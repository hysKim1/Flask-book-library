# 도서관 대출 서비스


(1) 프로젝트 구성 안내

- 로그인
- 로그아웃
- 회원 가입
- 메인 페이지
- 책 상세 페이지
- 대여기록
- 반납 가능한 책

(2) 프로젝트 기능 설명

- **로그인**
    
    **`필수`**
    
    - [x] 유저로부터 아이디(이메일)와 비밀번호 정보를 입력받아 로그인 합니다.
    - [x] 아이디와 비밀번호는 필수 입력 사항 입니다.
    - [x] 로그인한 유저에 대해 session으로 관리해야 합니다.
    
    **`선택`** 
    
    - [x] 비밀번호는 아래의 개인정보 보호조치 기준에 맞추어 최소 8자리 이상의 길이로 입력 받아야 합니다.
        - [개인정보의 기술적·관리적 보호조치 기준](https://www.law.go.kr/%ED%96%89%EC%A0%95%EA%B7%9C%EC%B9%99/(%EA%B0%9C%EC%9D%B8%EC%A0%95%EB%B3%B4%EB%B3%B4%ED%98%B8%EC%9C%84%EC%9B%90%ED%9A%8C)%EA%B0%9C%EC%9D%B8%EC%A0%95%EB%B3%B4%EC%9D%98%EA%B8%B0%EC%88%A0%EC%A0%81%C2%B7%EA%B4%80%EB%A6%AC%EC%A0%81%EB%B3%B4%ED%98%B8%EC%A1%B0%EC%B9%98%EA%B8%B0%EC%A4%80/(2020-5,20200811))
        - [한국인터넷진흥원 개인정보의 기술적·관리적 보호조치 기준 해설서](https://www.kisa.or.kr/public/laws/laws3_View.jsp?cPage=7&mode=view&p_No=259&b_No=259&d_No=102&ST=T&SV=)
    - [x] 아이디는 이메일 형식으로만 입력 받아야 합니다.

- **회원가입**
    
    **`필수`**
    
    - [x] 유저로부터 아이디(이메일), 비밀번호, 이름 정보를 입력받아 회원가입합니다.
    - [x] 비밀번호와 비밀번호 확인의 값이 일치해야 합니다.
    
    **`선택`** 
    
    - [x] 아이디는 이메일 형식으로만 정보를 입력 받아야 합니다.
    - [x] 이름은 한글, 영문으로만 입력 받아야 합니다.
    - [x] 비밀번호는 아래의 개인정보 보호조치 기준에 맞추어 영문, 숫자, 특수문자 중 2종류 이상을 조합하여 최소 10자리 이상 또는 3종류 이상을 조합하여 최소 8자리 이상의 길이로 구성합니다.
        - [개인정보의 기술적·관리적 보호조치 기준](https://www.law.go.kr/%ED%96%89%EC%A0%95%EA%B7%9C%EC%B9%99/(%EA%B0%9C%EC%9D%B8%EC%A0%95%EB%B3%B4%EB%B3%B4%ED%98%B8%EC%9C%84%EC%9B%90%ED%9A%8C)%EA%B0%9C%EC%9D%B8%EC%A0%95%EB%B3%B4%EC%9D%98%EA%B8%B0%EC%88%A0%EC%A0%81%C2%B7%EA%B4%80%EB%A6%AC%EC%A0%81%EB%B3%B4%ED%98%B8%EC%A1%B0%EC%B9%98%EA%B8%B0%EC%A4%80/(2020-5,20200811))
        - [한국인터넷진흥원 개인정보의 기술적·관리적 보호조치 기준 해설서](https://www.kisa.or.kr/public/laws/laws3_View.jsp?cPage=7&mode=view&p_No=259&b_No=259&d_No=102&ST=T&SV=)
- **로그아웃**
    
    **`필수`**
    
    - [x] 현재 로그인한 유저에 대해 로그아웃 합니다.
    - [x] 로그아웃한 유저를 현재 session에서 제거해야 합니다.
- **메인 페이지**
    
    `**필수**`
    
    - [x] 현재 DB 상에 존재하는 모든 책 정보를 가져옵니다.
    - [x] 현재 DB 상에 존재하는 남은 책의 수를 표기합니다.
    - [x] 책 이름을 클릭 시 책 소개 페이지로 이동합니다.
    - [x] 책의 평점은 현재 DB 상에 담겨있는 모든 평점의 평균입니다. 숫자 한자리수로 반올림하여 표기합니다.
    
    **`선택`** 
    
    - [x] 페이지네이션 기능을 추가합니다. 한 페이지 당 8권의 책만을 표기합니다.
    - [x] (추가) 책 제목, 저자 , ISBN별로 키워드 검색 기능을 추가합니다.
    - [x] (추가) 로그인한 유저와 로그인 하지않은 유저간에 다른 화면을 보여줍니다.
        - 로그인한 유저는 상단의 네비게이션바에 로그인한 유저의 이름 대여기록, 반납하기, 로그아웃 나옵니다. 로그인하지 않은 유저는 회원가입, 로그인이  네비게이션바 상단에 나옵니다.
        - 로그인한 유저는 대여하기 버튼을 누른 경우 대여하고 있지 않은 책인 경우 대여가 가능합니다. 로그인하지 않은 유저는 대여하기 버튼을 누른경우 로그인 화면으로 이동합니다.
- **대여하기**
    
    **`필수`**
    
    - [x] 메인 페이지의 대여하기 버튼을 클릭하여 실행합니다.
    - [x] 현재 DB 상에 책이 존재 하지 않는 경우, 대여되지 않습니다.
    - [x] 현재 DB 상에 책에 존재하는 경우, 책을 대여하고 책의 권수를 -1 합니다.
    
    **`선택`** 
    
    - [x] 현재 DB 상에 책이 존재하지 않는 경우, 유저에게 대여가 불가능하다는 메세지를 반환합니다.
    - [x] 유저가 이미 이 책을 대여했을 경우, 이에 대한 안내 메세지를 반환합니다.
    - [x] (추가) 대여 가능한 책의 재고가 부족한 경우 대여하기 버튼은 대여불가로 바뀌게 됩니다.
    
- **반납하기**
    
    **`필수`**
    - [x] 로그인한 유저가 대여한 책을 모두 보여줍니다.
    - [x] 반납하기 버튼을 통해 책을 반납합니다. 책을 반납한 후 DB 상에 책의 권수를 +1 합니다.

- **책소개**
    
    **`필수`**
    
    - [x] 메인 페이지의 책 이름을 클릭하여 접근합니다.
    - [x] 책에 대한 소개를 출력합니다.
    
    **`선택`** 
    
    - [x] 가장 최신의 댓글이 보이도록 정렬하여 보여줍니다.
    - [x] 댓글을 작성, 책에 대한 평가 점수를 입력합니다.
    - [x] 댓글 내용과 평가 점수는 모두 필수 입력 사항입니다.
    - [x] (추가) 리뷰 삭제시 삭제 확인 메시지가 팝업으로 나옵니다.
    - [x] (추가) 리뷰 작성 완료해서 화면 전환되면 스크롤이 초기화되는 것을 방지합니다.
    - [x] (추가) 로그인한 유저와 로그인 하지않은 유저간에 다른 화면을 보여줍니다.
        - 로그인한 유저는 책소개 페이지에 댓글과 평가 작성하는 란이 나옵니다. 로그인하지 않은 유저는 로그인하라는 안내 글이 나옵니다.
    - [x] (추가) 대여자, 비대여자에게 리뷰에 관한 제한을 줍니다.
        - 해당 책 대여자만 리뷰 작성이 가능합니다.
        - 대여자 중에서 이미 리뷰를 작성한 경우 작성불가하다는 메시지가 나옵니다.
        - 대여자가 이미 리뷰를 작성한 경우 본인의 리뷰막 삭제버튼이 나오고 삭제 가능합니다.
    
- **대여기록**
    
    **`선택`** 
    
    - [x] 로그인한 유저가 대여 후 반납 했던 책에 대한 모든 사항을 출력합니다.
    - [x] (추가) 로그인한 유저가 대여 후 반납하지 않은 책은 반납하기 버튼이 나오고 기간은 현재로 나오도록 출력합니다.

- **에러**
    - [x] (추가) 지정한 HTTP 상태코드에 따라서 류 페이지를 보여줍니다.

(3) 주요 사용 기술
- Flask
- SQLAlchemy
- HTML
- Jinja2
- Bootstrap
- JQuery

(4) 주요 버전( requirements.txt))
- Pyhon 3.7.6
- Flask==2.0.2
- flask-login-0.5.0
- Flask-Migrate==3.1.0
- Flask-SQLAlchemy==2.5.1
- Jinja2==3.0.3
- Werkzeug==2.0.2
